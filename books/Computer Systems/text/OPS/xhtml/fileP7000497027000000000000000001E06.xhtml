<?xml version='1.0' encoding='utf-8'?>
<html xmlns:m="http://www.w3.org/1998/Math/MathML" xmlns:svg="http://www.w3.org/2000/svg" xmlns:epub="http://www.idpf.org/2007/ops" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" epub:prefix="index: http://www.index.com/">
  <head>
    <meta name="dcterms.conformsTo" content="PXE Basic 1.0"/>
    <meta name="generator" content="PXE Tools version 1.39.52"/>
    <!--Created by pxe.pl for standard version PXE Basic 1.0,data-profile-product=standard by PXE Tools 1.39.52, partial=false-->
    <title>3.1 A Historical Perspective</title>
    <link rel="alternate stylesheet" type="text/css" title="night" href="../css/theme/night.css"/>
    <link rel="alternate stylesheet" type="text/css" title="sepia" href="../css/theme/sepia.css"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link href="../../stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="../../page_styles.css" rel="stylesheet" type="text/css"/>
</head>
  <body epub:type="bodymatter" class="pcalibre1 pcalibre2 pcalibre">
<section id="P7000497027000000000000000001E06" class="pcalibre1 pcalibre2 pcalibre3"><header class="pcalibre1 pcalibre2 calibre"><h1 class="pcalibre1 pcalibre2 pcalibre4" id="P700049702700000000000000004007D" data-uri="chapter03.xhtml#P700049702700000000000000004007D" epub:type="title"><span class="pcalibre1 pcalibre21 pcalibre2">3.1 </span>A Historical Perspective</h1></header>
<p id="P700049702700000000000000004007E" data-uri="chapter03.xhtml#P700049702700000000000000004007E" class="pcalibre8 pcalibre1 pcalibre2">The Intel processor line, colloquially referred to as <i class="pcalibre17 pcalibre2 pcalibre1">x86</i>, has followed a long evolutionary development. It started with one of the first single-chip 16-bit microprocessors, where many compromises had to be made due to the limited capabilities of integrated circuit technology at the time. Since then, it has grown to take advantage <span class="pcalibre1 pcalibre2 pcalibre5" id="P7000497027000000000000000001E1E" title="167" data-uri="chapter03.xhtml#P7000497027000000000000000001E1E" epub:type="pagebreak"></span>of technology improvements as well as to satisfy the demands for higher performance and for supporting more advanced operating systems.</p>
<p id="P700049702700000000000000004007F" data-uri="chapter03.xhtml#P700049702700000000000000004007F" class="pcalibre8 pcalibre1 pcalibre2">The list that follows shows some models of Intel processors and some of their key features, especially those affecting machine-level programming. We use the number of transistors required to implement the processors as an indication of how they have evolved in complexity. In this table, "K" denotes 1,000 (10<sup class="pcalibre1 pcalibre2 pcalibre85">3</sup>), "M" denotes 1,000,000 (10<sup class="pcalibre1 pcalibre2 pcalibre85">6</sup>), and "G" denotes 1,000,000,000 (10<sup class="pcalibre1 pcalibre2 pcalibre85">9</sup>).</p>
<ul class="pcalibre38 pcalibre1 pcalibre2" id="P7000497027000000000000000040080" data-uri="chapter03.xhtml#P7000497027000000000000000040080">
<li id="P7000497027000000000000000040081" data-uri="chapter03.xhtml#P7000497027000000000000000040081" class="pcalibre39 pcalibre2 pcalibre1"><p id="P7000497027000000000000000040082" data-uri="chapter03.xhtml#P7000497027000000000000000040082" class="pcalibre1 pcalibre2 pcalibre40"><span class="pcalibre1 pcalibre2 pcalibre41">8086 (1978, 29 K transistors). </span>One of the first single-chip, 16-bit microprocessors. The 8088, a variant of the 8086 with an 8-bit external bus, formed the heart of the original IBM personal computers. IBM contracted with then-tiny Microsoft to develop the MS-DOS operating system. The original models came with 32,768 bytes of memory and two floppy drives (no hard drive). Architecturally, the machines were limited to a 655,360-byte address space—addresses were only 20 bits long (1,048,576 bytes addressable), and the operating system reserved 393,216 bytes for its own use. In 1980, Intel introduced the 8087 floating-point coprocessor (45 K transistors) to operate alongside an 8086 or 8088 processor, executing the floating-point instructions. The 8087 established the floating-point model for the x86 line, often referred to as "x87."</p></li>
<li id="P7000497027000000000000000040083" data-uri="chapter03.xhtml#P7000497027000000000000000040083" class="pcalibre39 pcalibre2 pcalibre1"><p id="P7000497027000000000000000040084" data-uri="chapter03.xhtml#P7000497027000000000000000040084" class="pcalibre1 pcalibre2 pcalibre40"><span class="pcalibre1 pcalibre2 pcalibre41">80286 (1982, 134 K transistors). </span>Added more (and now obsolete) addressing modes. Formed the basis of the IBM PC-AT personal computer, the original platform for MS Windows.</p></li>
<li id="P7000497027000000000000000040085" data-uri="chapter03.xhtml#P7000497027000000000000000040085" class="pcalibre39 pcalibre2 pcalibre1"><p id="P7000497027000000000000000040086" data-uri="chapter03.xhtml#P7000497027000000000000000040086" class="pcalibre1 pcalibre2 pcalibre40"><span class="pcalibre1 pcalibre2 pcalibre41">i386 (1985, 275 K transistors). </span>Expanded the architecture to 32 bits. Added the flat addressing model used by Linux and recent versions of the Windows operating system. This was the first machine in the series that could fully support a Unix operating system.</p></li>
<li id="P7000497027000000000000000040087" data-uri="chapter03.xhtml#P7000497027000000000000000040087" class="pcalibre39 pcalibre2 pcalibre1"><p id="P7000497027000000000000000040088" data-uri="chapter03.xhtml#P7000497027000000000000000040088" class="pcalibre1 pcalibre2 pcalibre40"><span class="pcalibre1 pcalibre2 pcalibre41">i486 (1989, 1.2 M transistors). </span>Improved performance and integrated the floating-point unit onto the processor chip but did not significantly change the instruction set.</p></li>
<li id="P7000497027000000000000000040089" data-uri="chapter03.xhtml#P7000497027000000000000000040089" class="pcalibre39 pcalibre2 pcalibre1"><p id="P700049702700000000000000004008A" data-uri="chapter03.xhtml#P700049702700000000000000004008A" class="pcalibre1 pcalibre2 pcalibre40"><span class="pcalibre1 pcalibre2 pcalibre41">Pentium (1993, 3.1 M transistors). </span>Improved performance but only added minor extensions to the instruction set.</p></li>
<li id="P700049702700000000000000004008B" data-uri="chapter03.xhtml#P700049702700000000000000004008B" class="pcalibre39 pcalibre2 pcalibre1"><p id="P700049702700000000000000004008C" data-uri="chapter03.xhtml#P700049702700000000000000004008C" class="pcalibre1 pcalibre2 pcalibre40"><span class="pcalibre1 pcalibre2 pcalibre41">PentiumPro (1995, 5.5 M transistors). </span>Introduced a radically new processor design, internally known as the <i class="pcalibre17 pcalibre2 pcalibre1">P6</i> microarchitecture. Added a class of "conditional move" instructions to the instruction set.</p></li>
<li id="P700049702700000000000000004008D" data-uri="chapter03.xhtml#P700049702700000000000000004008D" class="pcalibre39 pcalibre2 pcalibre1"><p id="P700049702700000000000000004008E" data-uri="chapter03.xhtml#P700049702700000000000000004008E" class="pcalibre1 pcalibre2 pcalibre40"><span class="pcalibre1 pcalibre2 pcalibre41">Pentium/MMX (1997, 4.5 M transistors). </span>Added new class of instructions to the Pentium processor for manipulating vectors of integers. Each datum can be 1, 2, or 4 bytes long. Each vector totals 64 bits.</p></li>
<li id="P700049702700000000000000004008F" data-uri="chapter03.xhtml#P700049702700000000000000004008F" class="pcalibre39 pcalibre2 pcalibre1"><p id="P7000497027000000000000000040090" data-uri="chapter03.xhtml#P7000497027000000000000000040090" class="pcalibre1 pcalibre2 pcalibre40"><span class="pcalibre1 pcalibre2 pcalibre41">Pentium II (1997, 7 M transistors). </span>Continuation of the P6 microarchitecture.</p></li>
<li id="P7000497027000000000000000040091" data-uri="chapter03.xhtml#P7000497027000000000000000040091" class="pcalibre39 pcalibre2 pcalibre1"><p id="P7000497027000000000000000040092" data-uri="chapter03.xhtml#P7000497027000000000000000040092" class="pcalibre1 pcalibre2 pcalibre40"><span class="pcalibre1 pcalibre2 pcalibre41">Pentium III (1999, 8.2 M transistors). </span>Introduced SSE, a class of instructions for manipulating vectors of integer or floating-point data. Each datum can be 1, 2, or 4 bytes, packed into vectors of 128 bits. Later versions of this chip <span class="pcalibre1 pcalibre2 pcalibre5" id="P7000497027000000000000000001E30" title="168" data-uri="chapter03.xhtml#P7000497027000000000000000001E30" epub:type="pagebreak"></span>went up to 24 M transistors, due to the incorporation of the level-2 cache on chip.</p></li>
<li id="P7000497027000000000000000040093" data-uri="chapter03.xhtml#P7000497027000000000000000040093" class="pcalibre39 pcalibre2 pcalibre1"><p id="P7000497027000000000000000040094" data-uri="chapter03.xhtml#P7000497027000000000000000040094" class="pcalibre1 pcalibre2 pcalibre40"><span class="pcalibre1 pcalibre2 pcalibre41">Pentium 4 (2000, 42 M transistors). </span>Extended SSE to SSE2, adding new data types (including double-precision floating point), along with 144 new instructions for these formats. With these extensions, compilers can use SSE instructions, rather than x87 instructions, to compile floating-point code.</p></li>
<li id="P7000497027000000000000000040095" data-uri="chapter03.xhtml#P7000497027000000000000000040095" class="pcalibre39 pcalibre2 pcalibre1"><p id="P7000497027000000000000000040096" data-uri="chapter03.xhtml#P7000497027000000000000000040096" class="pcalibre1 pcalibre2 pcalibre40"><span class="pcalibre1 pcalibre2 pcalibre41">Pentium 4E (2004, 125 M transistors). </span>Added <i class="pcalibre17 pcalibre2 pcalibre1">hyperthreading</i>, a method to run two programs simultaneously on a single processor, as well as EM64T, Intel's implementation of a 64-bit extension to IA32 developed by Advanced Micro Devices (AMD), which we refer to as x86-64.</p></li>
<li id="P7000497027000000000000000040097" data-uri="chapter03.xhtml#P7000497027000000000000000040097" class="pcalibre39 pcalibre2 pcalibre1"><p id="P7000497027000000000000000040098" data-uri="chapter03.xhtml#P7000497027000000000000000040098" class="pcalibre1 pcalibre2 pcalibre40"><span class="pcalibre1 pcalibre2 pcalibre41">Core 2 (2006, 291 M transistors). </span>Returned to a microarchitecture similar to P6. First <i class="pcalibre17 pcalibre2 pcalibre1">multi-core</i> Intel microprocessor, where multiple processors are implemented on a single chip. Did not support hyperthreading.</p></li>
<li id="P7000497027000000000000000040099" data-uri="chapter03.xhtml#P7000497027000000000000000040099" class="pcalibre39 pcalibre2 pcalibre1"><p id="P700049702700000000000000004009A" data-uri="chapter03.xhtml#P700049702700000000000000004009A" class="pcalibre1 pcalibre2 pcalibre40"><span class="pcalibre1 pcalibre2 pcalibre41">Core i7, Nehalem (2008, 781 M transistors). </span>Incorporated both hyperthreading and multi-core, with the initial version supporting two executing programs on each core and up to four cores on each chip.</p></li>
<li id="P700049702700000000000000004009B" data-uri="chapter03.xhtml#P700049702700000000000000004009B" class="pcalibre39 pcalibre2 pcalibre1"><p id="P700049702700000000000000004009C" data-uri="chapter03.xhtml#P700049702700000000000000004009C" class="pcalibre1 pcalibre2 pcalibre40"><span class="pcalibre1 pcalibre2 pcalibre41">Core i7, Sandy Bridge (2011, 1.17 G transistors). </span>Introduced AVX, an extension of the SSE to support data packed into 256-bit vectors.</p></li>
<li id="P700049702700000000000000004009D" data-uri="chapter03.xhtml#P700049702700000000000000004009D" class="pcalibre39 pcalibre2 pcalibre1"><p id="P700049702700000000000000004009E" data-uri="chapter03.xhtml#P700049702700000000000000004009E" class="pcalibre1 pcalibre2 pcalibre40"><span class="pcalibre1 pcalibre2 pcalibre41">Core i7, Haswell (2013, 1.4 G transistors). </span>Extended AVX to AVX2, adding more instructions and instruction formats.</p></li>
</ul>
<p id="P700049702700000000000000004009F" data-uri="chapter03.xhtml#P700049702700000000000000004009F" class="pcalibre8 pcalibre1 pcalibre2">Each successive processor has been designed to be backward compatible—able to run code compiled for any earlier version. As we will see, there are many strange artifacts in the instruction set due to this evolutionary heritage. Intel has had several names for their processor line, including <i class="pcalibre17 pcalibre2 pcalibre1">IA32</i>, for "Intel Architecture 32-bit" and most recently <i class="pcalibre17 pcalibre2 pcalibre1">Intel64</i>, the 64-bit extension to IA32, which we will refer to as <i class="pcalibre17 pcalibre2 pcalibre1">x86-64</i>. We will refer to the overall line by the commonly used colloquial name "x86," reflecting the processor naming conventions up through the i486.</p>
<p id="P70004970270000000000000000400A0" data-uri="chapter03.xhtml#P70004970270000000000000000400A0" class="pcalibre8 pcalibre1 pcalibre2">Over the years, several companies have produced processors that are compatible with Intel processors, capable of running the exact same machine-level programs. Chief among these is Advanced Micro Devices (AMD). For years, AMD lagged just behind Intel in technology, forcing a marketing strategy where they produced processors that were less expensive although somewhat lower in performance. They became more competitive around 2002, being the first to break the 1-gigahertz clock-speed barrier for a commercially available microprocessor, and introducing x86-64, the widely adopted 64-bit extension to Intel's IA32. Although we will talk about Intel processors, our presentation holds just as well for the compatible processors produced by Intel's rivals.</p>
<p id="P70004970270000000000000000400A1" data-uri="chapter03.xhtml#P70004970270000000000000000400A1" class="pcalibre8 pcalibre1 pcalibre2">Much of the complexity of x86 is not of concern to those interested in programs for the Linux operating system as generated by the <span class="pcalibre1 pcalibre29 pcalibre2">gcc </span>compiler. The memory model provided in the original 8086 and its extensions in the 80286 became obsolete with the i386. The original x87 floating-point instructions became obsolete</p>

<aside class="pcalibre31 pcalibre32 pcalibre2" id="P7000497027000000000000000001E2E" data-uri="chapter03.xhtml#P7000497027000000000000000001E2E"><header class="pcalibre1 pcalibre2 pcalibre3"><h1 class="pcalibre1 pcalibre2 pcalibre33" id="P70004970270000000000000000400A2" data-uri="chapter03.xhtml#P70004970270000000000000000400A2" epub:type="title"><span class="pcalibre1 pcalibre2 pcalibre5" id="P7000497027000000000000000001E32" title="169" data-uri="chapter03.xhtml#P7000497027000000000000000001E32" epub:type="pagebreak"></span><span class="pcalibre1 pcalibre2 pcalibre34">Aside </span>Moore's Law</h1></header>
<figure id="P7000497027000000000000000001E31" class="pcalibre2 pcalibre32 pcalibre35" data-uri="chapter03.xhtml#P7000497027000000000000000001E31">
<img alt="A graph of Intel microprocessor complexity shows an increase in transistors over time, between 1975 and 2015." id="P70004970270000000000000000400A3" data-uri="P700049702700000000000000000B6AE" src="../images/p169-1.png" class="calibre22 pcalibre1 pcalibre2"/>
</figure>
<p id="P70004970270000000000000000400A4" data-uri="chapter03.xhtml#P70004970270000000000000000400A4" class="pcalibre1 pcalibre2 pcalibre40">If we plot the number of transistors in the different Intel processors versus the year of introduction, and use a logarithmic scale for the <var class="pcalibre17 pcalibre2 pcalibre1">y</var>-axis, we can see that the growth has been phenomenal. Fitting a line through the data, we see that the number of transistors increases at an annual rate of approximately 37%, meaning that the number of transistors doubles about every 26 months. This growth has been sustained over the multiple-decade history of x86 microprocessors.</p>
<p id="P70004970270000000000000000400A5" data-uri="chapter03.xhtml#P70004970270000000000000000400A5" class="pcalibre1 pcalibre2 pcalibre40">In 1965, Gordon Moore, a founder of Intel Corporation, extrapolated from the chip technology of the day (by which they could fabricate circuits with around 64 transistors on a single chip) to predict that the number of transistors per chip would double every year for the next 10 years. This prediction became known as <i class="pcalibre17 pcalibre2 pcalibre1">Moore's Law</i>. As it turns out, his prediction was just a little bit optimistic, but also too short-sighted. Over more than 50 years, the semiconductor industry has been able to double transistor counts on average every 18 months.</p>
<p id="P70004970270000000000000000400A6" data-uri="chapter03.xhtml#P70004970270000000000000000400A6" class="pcalibre1 pcalibre2 pcalibre10">Similar exponential growth rates have occurred for other aspects of computer technology, including the storage capacities of magnetic disks and semiconductor memories. These remarkable growth rates have been the major driving forces of the computer revolution.</p>
</aside>
<p class="pcalibre8 pcalibre1 pcalibre2" id="P70004970270000000000000000400A7" data-uri="chapter03.xhtml#P70004970270000000000000000400A7">with the introduction of SSE2. Although we see vestiges of the historical evolution of x86 in x86-64 programs, many of the most arcane features of x86 do not appear.</p>
</section></body></html>
