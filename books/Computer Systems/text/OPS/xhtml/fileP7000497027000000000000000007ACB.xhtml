<?xml version='1.0' encoding='utf-8'?>
<html xmlns:m="http://www.w3.org/1998/Math/MathML" xmlns:svg="http://www.w3.org/2000/svg" xmlns:epub="http://www.idpf.org/2007/ops" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" epub:prefix="index: http://www.index.com/">
  <head>
    <meta name="dcterms.conformsTo" content="PXE Basic 1.0"/>
    <meta name="generator" content="PXE Tools version 1.39.52"/>
    <!--Created by pxe.pl for standard version PXE Basic 1.0,data-profile-product=standard by PXE Tools 1.39.52, partial=false-->
    <title>10.10 Standard I/O</title>
    <link rel="alternate stylesheet" type="text/css" title="night" href="../css/theme/night.css"/>
    <link rel="alternate stylesheet" type="text/css" title="sepia" href="../css/theme/sepia.css"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link href="../../stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="../../page_styles.css" rel="stylesheet" type="text/css"/>
</head>
  <body epub:type="bodymatter" class="pcalibre1 pcalibre2 pcalibre">
<section id="P7000497027000000000000000007ACB" class="pcalibre1 pcalibre2 pcalibre3"><header class="pcalibre1 pcalibre2 calibre"><h1 class="pcalibre1 pcalibre2 pcalibre4" id="P70004970270000000000000000465B4" data-uri="chapter10.xhtml#P70004970270000000000000000465B4" epub:type="title"><span class="pcalibre1 pcalibre2 pcalibre5" id="P7000497027000000000000000007ACD" title="911" data-uri="chapter10.xhtml#P7000497027000000000000000007ACD" epub:type="pagebreak"></span><span class="pcalibre1 pcalibre21 pcalibre2">10.10 </span>Standard I/O</h1></header>
<p id="P70004970270000000000000000465B5" data-uri="chapter10.xhtml#P70004970270000000000000000465B5" class="pcalibre8 pcalibre1 pcalibre2">The C language defines a set of higher-level input and output functions, called the <i class="pcalibre17 pcalibre2 pcalibre1">standard I/O library</i>, that provides programmers with a higher-level alternative to Unix I/O. The library (<code id="P70004970270000000000000000465B6" data-uri="chapter10.xhtml#P70004970270000000000000000465B6" class="pcalibre1 calibre1 pcalibre2">libc</code>) provides functions for opening and closing files (<code id="P70004970270000000000000000465B7" data-uri="chapter10.xhtml#P70004970270000000000000000465B7" class="pcalibre1 calibre1 pcalibre2">fopen</code> and <code id="P70004970270000000000000000465B8" data-uri="chapter10.xhtml#P70004970270000000000000000465B8" class="pcalibre1 calibre1 pcalibre2">fclose</code>), reading and writing bytes (<code id="P70004970270000000000000000465B9" data-uri="chapter10.xhtml#P70004970270000000000000000465B9" class="pcalibre1 calibre1 pcalibre2">fread</code> and <code id="P70004970270000000000000000465BA" data-uri="chapter10.xhtml#P70004970270000000000000000465BA" class="pcalibre1 calibre1 pcalibre2">fwrite</code>), reading and writing strings (<code id="P70004970270000000000000000465BB" data-uri="chapter10.xhtml#P70004970270000000000000000465BB" class="pcalibre1 calibre1 pcalibre2">fgets</code> and <code id="P70004970270000000000000000465BC" data-uri="chapter10.xhtml#P70004970270000000000000000465BC" class="pcalibre1 calibre1 pcalibre2">fputs</code>), and sophisticated formatted I/O (<code id="P70004970270000000000000000465BD" data-uri="chapter10.xhtml#P70004970270000000000000000465BD" class="pcalibre1 calibre1 pcalibre2">scanf</code> and <code id="P70004970270000000000000000465BE" data-uri="chapter10.xhtml#P70004970270000000000000000465BE" class="pcalibre1 calibre1 pcalibre2">printf</code>).</p>
<p id="P70004970270000000000000000465BF" data-uri="chapter10.xhtml#P70004970270000000000000000465BF" class="pcalibre8 pcalibre1 pcalibre2">The standard I/O library models an open file as a <i class="pcalibre17 pcalibre2 pcalibre1">stream</i>. To the programmer, a stream is a pointer to a structure of type <code id="P70004970270000000000000000465C0" data-uri="chapter10.xhtml#P70004970270000000000000000465C0" class="pcalibre1 calibre1 pcalibre2">FILE</code>. Every ANSI C program begins with three open streams, <code id="P70004970270000000000000000465C1" data-uri="chapter10.xhtml#P70004970270000000000000000465C1" class="pcalibre1 calibre1 pcalibre2">stdin, stdout</code>, and <code id="P70004970270000000000000000465C2" data-uri="chapter10.xhtml#P70004970270000000000000000465C2" class="pcalibre1 calibre1 pcalibre2">stderr</code>, which correspond to standard input, standard output, and standard error, respectively:</p>
<pre id="P70004970270000000000000000465C3" data-uri="chapter10.xhtml#P70004970270000000000000000465C3" class="calibre2 pcalibre2 pcalibre1"><code id="P70004970270000000000000000465C4" data-uri="chapter10.xhtml#P70004970270000000000000000465C4" class="calibre3 pcalibre1 pcalibre2">
#include &lt;stdio.h&gt;
extern FILE *stdin;		/* Standard input (descriptor 0) */
extern FILE *stdout;		/* Standard output (descriptor 1) */
extern FILE *stderr;		/* Standard error (descriptor 2) */
</code></pre>
<p id="P70004970270000000000000000465C5" data-uri="chapter10.xhtml#P70004970270000000000000000465C5" class="pcalibre8 pcalibre1 pcalibre2">A stream of type FILE is an abstraction for a file descriptor and a <i class="pcalibre17 pcalibre2 pcalibre1">stream buffer</i>. The purpose of the stream buffer is the same as the R<span class="pcalibre1 pcalibre29 pcalibre2">io </span>read buffer: to minimize the number of expensive Linux I/O system calls. For example, suppose we have a program that makes repeated calls to the standard I/O <code id="P70004970270000000000000000465C6" data-uri="chapter10.xhtml#P70004970270000000000000000465C6" class="pcalibre1 calibre1 pcalibre2">getc</code> function, where each invocation returns the next character from a file. When <code id="P70004970270000000000000000465C7" data-uri="chapter10.xhtml#P70004970270000000000000000465C7" class="pcalibre1 calibre1 pcalibre2">getc</code> is called the first time, the library fills the stream buffer with a single call to the <code id="P70004970270000000000000000465C8" data-uri="chapter10.xhtml#P70004970270000000000000000465C8" class="pcalibre1 calibre1 pcalibre2">read</code> function and then returns the first byte in the buffer to the application. As long as there are unread bytes in the buffer, subsequent calls to <code id="P70004970270000000000000000465C9" data-uri="chapter10.xhtml#P70004970270000000000000000465C9" class="pcalibre1 calibre1 pcalibre2">getc</code> can be served directly from the stream buffer.</p>
</section></body></html>
